<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aditya Mahajan">
<meta name="dcterms.date" content="2024-02-09">
<meta name="description" content="ECES 506 (Stochastic Control and Decision Theory)">

<title>Course Notes - 9&nbsp; Examples of monotonicity</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../mdps/reward-shaping.html" rel="next">
<link href="../mdps/monotone-mdps.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/nutshell-1.0.6/nutshell.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
// https://github.com/mathjax/MathJax/issues/2744#issuecomment-1658624747
// To fix the bug that uppercase unicode letters are shown in italic
window.MathJax = {
  startup: {
    ready() {
      const {RANGES} = MathJax._.core.MmlTree.OperatorDictionary;
      const {TEXCLASS} = MathJax._.core.MmlTree.MmlNode;
      RANGES.splice(4, 1,
        [0x0370, 0x0385, TEXCLASS.ORD, 'mi'],
        [0x0386, 0x3AB, TEXCLASS.ORD, 'mi', 'normal'],
        [0x03AC, 0x1A20, TEXCLASS.ORD, 'mi']
      );
      MathJax.startup.defaultReady();
    }
  },
  tex: {
    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
    processEscapes: true,
    tags: "ams",
    macros: {
      PR: "\\mathbb{P}",
      EXP: "\\mathbb{E}",
      IND: "\\mathbb{I}",
      ONES: "\\mathbb{1}",
      reals: "\\mathbb{R}",
      integers: "\\mathbb{Z}",
      BLANK: "\\mathfrak{E}",
      TRANS: "\\intercal",
      BELLMAN: "\\mathcal{B}",
      RICCATI: "\\mathcal{R}",
      GAIN: "\\mathcal{G}",
      GREEDY: "\\mathcal{G}",
      MISMATCH: "\\mathcal{D}",
      VEC: "\\operatorname{vec}",
      diag: "\\operatorname{diag}",
      ROWS: "\\operatorname{vec}",
      TR: "\\operatorname{Tr}",   
      SPAN: "\\operatorname{sp}",   
      DRE: "\\operatorname{DRE}",   
      DARE: "\\operatorname{DARE}",   
      LQR: "\\operatorname{LQR}",   
      ALPHABET: ["\\mathcal{#1}", 1],
      MATRIX: ["\\begin{bmatrix} #1 \\end{bmatrix}", 1],
      NORM: ["\\left\\lVert \\mathstrut #1 \\right\\rVert", 1],
      ABS: ["\\left\\lvert \\mathstrut #1 \\right\\rvert", 1],
      GRAD: "\\nabla",
      IP: ["\\left\\langle #1, #2 \\right\\rangle", 2]
    },
  },
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
};
</script>
<script async="" data-id="101261731" src="//static.getclicky.com/js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../stochastic-control/index.html"> 
<span class="menu-text">Stochastic Control</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/adityam/stochastic-control" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../mdps/intro.html">MDPs</a></li><li class="breadcrumb-item"><a href="../mdps/monotone-examples.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Examples of monotonicity</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the course</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Stochastic Optimization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../stochastic-optimization/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../stochastic-optimization/newsvendor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The newsvendor problem</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../stochastic-optimization/certainty-equivalence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Certainty equivalence</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../stochastic-optimization/interchange.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interchange arguments</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">MDPs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Finite horizon MDPs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/gambling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Optimal gambling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/inventory-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Inventory Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/monotone-mdps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Monotonicity of value function and optimal policies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/monotone-examples.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Examples of monotonicity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/reward-shaping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Reward Shaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/optimal-stopping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Optimal stopping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/inf-horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Infinite horizon MDPs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/mdp-algorithms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">MDP algorithms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/inventory-management-revisited.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Inventory management (revisted)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/mobile-edge-computing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Service Migration in Mobile edge computing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/computational-complexity-vi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Computational complexity of value interation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/martingale.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Thirfty and equalizing policies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/linear-programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Linear programming formulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/lipschitz-mdps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Lipschitz MDPs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mdps/periodic-mdps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Periodic MDPs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">POMDPs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pomdps/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pomdps/sequential-hypothesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Sequential hypothesis testing</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Approx DP</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../approx-mdps/approx-DP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Approximate dynamic programming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../approx-mdps/policy-loss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Upper bounds on policy loss</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../approx-mdps/model-approximation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Model approximation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Risk sensitive MDPs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../risk-sensitive/risk-sensitive-utility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Risk Sensitive Utility</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../risk-sensitive/risk-sensitive-mdps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Risk Sensitive MDPs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Linear systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-systems/lqr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Linear quadratic regulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-systems/large-scale-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Large scale systems</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">RL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rl/stochastic-approximation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Stochastic approximation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Dec-POMDPs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../dec-pomdps/designers-approach.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Designer’s Approach</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
 <span class="menu-text">Probability Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/convergence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Convergence of random variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/sub-gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Sub-Gaussian random variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/change-of-measure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Change of Measure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/IPM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Integral Probablity Metrics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/markov-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Markov chains</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/martingales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Martingales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability/stochastic-stability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Stochastic stability</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
 <span class="menu-text">Linear Algebra Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-algebra/matrix-relationships.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Some useful matrix relationships</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-algebra/positive-definite-matrix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Positive definite matrices</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-algebra/infinite-product-of-matrices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Infinite product of matrices</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-algebra/svd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Singular value decomposition</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../linear-algebra/rkhs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Reproducing Kernel Hilbert Space</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true">
 <span class="menu-text">Convexity Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../convexity/convexity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Convex sets and convex functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../convexity/duality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Duality</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="true">
 <span class="menu-text">Assignments</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignment 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignments/02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignment 2</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#power-delay-tradeoff" id="toc-power-delay-tradeoff" class="nav-link active" data-scroll-target="#power-delay-tradeoff"><span class="header-section-number">9.1</span> Power-delay tradeoff in wireless communication</a>
  <ul class="collapse">
  <li><a href="#dynamic-program" id="toc-dynamic-program" class="nav-link" data-scroll-target="#dynamic-program"><span class="header-section-number">9.1.1</span> Dynamic program</a></li>
  <li><a href="#monotonicity-of-value-functions" id="toc-monotonicity-of-value-functions" class="nav-link" data-scroll-target="#monotonicity-of-value-functions"><span class="header-section-number">9.1.2</span> Monotonicity of value functions</a></li>
  <li><a href="#convexity-of-value-functions" id="toc-convexity-of-value-functions" class="nav-link" data-scroll-target="#convexity-of-value-functions"><span class="header-section-number">9.1.3</span> Convexity of value functions</a></li>
  <li><a href="#monotonicity-of-optimal-policy-in-queue-length" id="toc-monotonicity-of-optimal-policy-in-queue-length" class="nav-link" data-scroll-target="#monotonicity-of-optimal-policy-in-queue-length"><span class="header-section-number">9.1.4</span> Monotonicity of optimal policy in queue length</a></li>
  <li><a href="#lack-of-monotonicity-of-optimal-policy-in-channel-state" id="toc-lack-of-monotonicity-of-optimal-policy-in-channel-state" class="nav-link" data-scroll-target="#lack-of-monotonicity-of-optimal-policy-in-channel-state"><span class="header-section-number">9.1.5</span> Lack of monotonicity of optimal policy in channel state</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/adityam/stochastic-control/edit/quarto/mdps/monotone-examples.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../mdps/intro.html">MDPs</a></li><li class="breadcrumb-item"><a href="../mdps/monotone-examples.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Examples of monotonicity</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Examples of monotonicity</span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="http://www.cim.mcgill.ca/~adityam">Aditya Mahajan</a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="http://www.mcgill.ca/ece">
            McGill University
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Updated</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 9, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<i class="bi bi-journal-text text-primary"></i> Summary
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this section, we present several examples to illustrate that the dynamic programming formulation can be used to identify qualitative properties of the value function and optimal policies.</p>
</div>
</div>
<section id="power-delay-tradeoff" class="level2 page-columns page-full" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="power-delay-tradeoff"><span class="header-section-number">9.1</span> Power-delay tradeoff in wireless communication</h2>
<p>In a cell phone, higher layer applications such as voicecall, email, browsers, etc. generate data packets. These packets are buffered in a queue and the transmission protocol decides how many packets to transmit at each time depending the number of packets in the queue and the quality of the wireless channel.</p>
<p>Let <span class="math inline">\(X_t \in \integers_{\ge 0}\)</span> denote the number of packets buffered at time <span class="math inline">\(t\)</span> and <span class="math inline">\(A_t \in \integers_{\ge 0}\)</span>, <span class="math inline">\(A_t \le X_t\)</span>, denote the number of packets transmitted at time <span class="math inline">\(t\)</span>. The remaining <span class="math inline">\(X_t - A_t\)</span> packets incur a delay penalty given by <span class="math inline">\(d(X_t - A_t)\)</span>, where <span class="math inline">\(d(\cdot)\)</span> is a <em>strictly</em> increasing and discrete-convex function where <span class="math inline">\(d(0) = 0\)</span>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Discrete convexity or <span class="math inline">\(L^{\#}\)</span> convexity
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>A function <span class="math inline">\(f \colon \integers \to \reals\)</span> is called convex (or <span class="math inline">\(L^{\#}\)</span> convex) if for any <span class="math inline">\(x \in \integers\)</span>, <span class="math display">\[ f(x+1) + f(x-1) \ge 2 f(x), \]</span> or, equivalently, for any <span class="math inline">\(x, y \in \integers\)</span> <span class="math display">\[ f(x) + f(y) \ge
  f\Bigl(\Bigl\lfloor \frac{x+y}{2} \Bigr\rfloor\Bigr)
  +
  f\Bigl(\Bigl\lceil \frac{x+y}{2} \Bigr\rceil\Bigr).\]</span></p>
<p>It can be easily seen that <span class="math inline">\(L^{\#}\)</span> functions satisfy the following properties:</p>
<ul>
<li>Sum of <span class="math inline">\(L^{\#}\)</span> convex functions is <span class="math inline">\(L^{\#}\)</span> convex.</li>
<li>Pointwise limits of <span class="math inline">\(L^{\#}\)</span> convex functions is <span class="math inline">\(L^{\#}\)</span> convex.</li>
</ul>
<p>See <span class="citation" data-cites="Murota1998">Murota (<a href="../references.html#ref-Murota1998" role="doc-biblioref">1998</a>)</span> and <span class="citation" data-cites="Chen2017">Chen (<a href="../references.html#ref-Chen2017" role="doc-biblioref">2017</a>)</span> for more details.</p>
</div>
</div>
</div>
<p>During time <span class="math inline">\(t\)</span>, <span class="math inline">\(W_t \in \integers_{\ge 0}\)</span> additional packets arrive and <span class="math display">\[ X_{t+1} = X_t - A_t + W_t.\]</span> We assume that <span class="math inline">\(\{W_t\}_{t \ge 1}\)</span> is an i.i.d. process.</p>
<p>The packets are transmitted over a wireless fading channel. Let <span class="math inline">\(S_t \in \ALPHABET S\)</span> denote the state of the fading channel. We assume that the states are ordered such that a lower value of state denotes a better channel quality.</p>
<p>If the channel has two states, say GOOD and BAD, we typically expect that <span class="math display">\[ \PR(\text{GOOD} \mid \text{GOOD}) \ge \PR(\text{GOOD} \mid \text{BAD}). \]</span> This means that the two state transition matrix is <a href="../mdps/monotone-mdps.html#stochastic-monotonicity">stochastically monotone</a>. So, in general (i.e., when the channel has more than two states), we assume that <span class="math inline">\(\{S_t\}_{t \ge 1}\)</span> is a <a href="../mdps/monotone-mdps.html#stochastic-monotonicity">stochastically monotone</a> Markov process that is independent of <span class="math inline">\(\{W_t\}_{t \ge 1}\)</span>.</p>
<p>The transmission protocol sets the transmit power such that the signal to noise ratio (SNR) at the receiver is above a desired threshold. It can be shown that for additive white Gaussian channels (AWGN), the transmitted power is of the form <span class="math display">\[p(A_t) q(S_t),\]</span> where</p>
<ul>
<li><span class="math inline">\(p(\cdot)\)</span> is a strictly increasing and convex function where <span class="math inline">\(p(0) = 0\)</span>;</li>
<li><span class="math inline">\(q(\cdot)\)</span> is a strictly increasing function.</li>
</ul>
<p>The objective is to choose a transmission policy <span class="math inline">\(A_t = π^*_t(X_t, S_t)\)</span> to minimize the weighted sum of transmitted power and delay <span class="math display">\[ \EXP\bigg[ \sum_{t=1}^T \big[ p(A_t) q(S_t) + \lambda d(X_t - A_t) \big]
\bigg],\]</span> where <span class="math inline">\(\lambda\)</span> may be viewed as a Lagrange multiplier corresponding to a constrained optimization problem.</p>
<section id="dynamic-program" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1" class="anchored" data-anchor-id="dynamic-program"><span class="header-section-number">9.1.1</span> Dynamic program</h3>
<p>We can assume <span class="math inline">\(Y_t = X_t - A_t\)</span> as a post-decision state in the above model and write the dynamic program as follows:</p>
<p><span class="math display">\[ V^*_{T+1}(x,s) = 0 \]</span> and for <span class="math inline">\(t \in \{T, \dots, 1\}\)</span>, <span class="math display">\[\begin{align*}
  H_t(y,s) &amp;= \lambda d(y) + \EXP[ V^*_{t+1}(y + W_t, S_{t+1}) | S_t = s ], \\
  V^*_t(x,s) &amp;= \min_{0 \le a \le x} \big\{ p(a) q(s) + H_t(x-a, s) \big\}
\end{align*}\]</span></p>
</section>
<section id="monotonicity-of-value-functions" class="level3" data-number="9.1.2">
<h3 data-number="9.1.2" class="anchored" data-anchor-id="monotonicity-of-value-functions"><span class="header-section-number">9.1.2</span> Monotonicity of value functions</h3>
<div id="lem-power-delay-increasing" class="theorem lemma">
<p><span class="theorem-title"><strong>Lemma 9.1</strong></span> For all <span class="math inline">\(t\)</span>, <span class="math inline">\(V^*_t(x,s)\)</span> and <span class="math inline">\(H_t(y,s)\)</span> are increasing in both variables.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>First note that the constraint set <span class="math inline">\(\ALPHABET A(x) = \{0, \dots, x\}\)</span> satisfies the conditions that generalize the result of monotonicity to constrained actions.</p>
<p>We prove the two monotonicity properties by backward induction. First note that <span class="math inline">\(V^*_{T+1}(x,s)\)</span> is trivially monotone. This forms the basis of induction. Now suppose <span class="math inline">\(V^*_{t+1}(x,s)\)</span> is increasing in <span class="math inline">\(x\)</span> and <span class="math inline">\(s\)</span>. Since <span class="math inline">\(\{S_t\}_{t \ge 1}\)</span> is stochastically monotone, <span class="math display">\[H_t(y,s) = \lambda d(y) + \EXP[ V^*_{t+1}(y + W_t, S_{t+1}) | S_t = s ]\]</span> is increasing in <span class="math inline">\(s\)</span>. Moreover, since both <span class="math inline">\(d(y)\)</span> and <span class="math inline">\(V^*_{t+1}(y + w, s)\)</span> are increasing in <span class="math inline">\(y\)</span>, so is <span class="math inline">\(H_t(y,s)\)</span>.</p>
<p>Now, for every <span class="math inline">\(a\)</span>, <span class="math inline">\(p(a) q(s)\)</span> and <span class="math inline">\(H_t(x-a, s)\)</span> is increasing in <span class="math inline">\(x\)</span> and <span class="math inline">\(s\)</span>. So, the pointwise minima over <span class="math inline">\(a\)</span> is also increasing in <span class="math inline">\(x\)</span> and <span class="math inline">\(s\)</span>.</p>
</div>
</div>
</div>
</section>
<section id="convexity-of-value-functions" class="level3" data-number="9.1.3">
<h3 data-number="9.1.3" class="anchored" data-anchor-id="convexity-of-value-functions"><span class="header-section-number">9.1.3</span> Convexity of value functions</h3>
<div id="lem-power-delay-convex" class="theorem lemma">
<p><span class="theorem-title"><strong>Lemma 9.2</strong></span> For all time <span class="math inline">\(t\)</span> and channel state <span class="math inline">\(s\)</span>, <span class="math inline">\(V^*_t(x,s)\)</span> and <span class="math inline">\(H_t(y,s)\)</span> are convex in the first variable.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We proceed by backward induction. First note that <span class="math inline">\(V^*_{T+1}(x,s)\)</span> is trivially convex in <span class="math inline">\(x\)</span>. Now assume that <span class="math inline">\(V^*_{t+1}(x,s)\)</span> is convex in <span class="math inline">\(x\)</span>. Then, <span class="math inline">\(\EXP[V^*_{t+1}(y + W_t, S_{t+1}) | S_t = s]\)</span> is weighted sum of convex functions and is, therefore, convex in <span class="math inline">\(y\)</span>. Therefore, <span class="math inline">\(H_t(y,s)\)</span> is a sum of two convex functions and, therefore, convex in <span class="math inline">\(y\)</span>.</p>
<p>We cannot directly show the convexity of <span class="math inline">\(V^*_t(x,s)\)</span> because the pointwise minimum of convex functions is not convex. So, we consider the following argument. Fix <span class="math inline">\(s\)</span> and pick <span class="math inline">\(x &gt; 1\)</span>. Let <span class="math inline">\(\underline a = π^*_t(x-1,s)\)</span> and <span class="math inline">\(\bar a = π^*_t(x+1,s)\)</span>. Let <span class="math inline">\(\underline v = \lfloor (\underline a + \bar a)/2
\rfloor\)</span> and <span class="math inline">\(\bar v = \lceil (\underline a + \bar a)/2
\rceil\)</span>. Note that both <span class="math inline">\(\underline v\)</span> and <span class="math inline">\(\bar v\)</span> are feasible at <span class="math inline">\(x\)</span>. Then, <span class="math display">\[ \begin{align*}
  \hskip 2em &amp; \hskip -2em
  V^*_t(x-1, s) + V^*_t(x+1, s)
  \\
  &amp;=
  [ p(\underline a) + p(\bar a) ] q(s) + H_t(x - 1 - \underline a, s)
  + H_t(x + 1 - \bar a, s)
  \\
  &amp;\stackrel{(a)}\ge [ p(\underline v) + p(\bar v)] q(s) +
    H_t(x - \underline v, s) + H_t(x - \bar v, s) \\
  &amp;\ge 2 \min_{a \le x} \big\{ p(a) q(s) + H_t(x-a, s) \\
  &amp;= 2 V^*_t(x,s),
\end{align*} \]</span> where <span class="math inline">\((a)\)</span> follows from convexity of <span class="math inline">\(p(\cdot)\)</span> and <span class="math inline">\(H_t(\cdot, s)\)</span>. Thus, <span class="math inline">\(V^*_t(x,s)\)</span> is convex in <span class="math inline">\(x\)</span>. This completes the induction step.</p>
</div>
</div>
</div>
</section>
<section id="monotonicity-of-optimal-policy-in-queue-length" class="level3 page-columns page-full" data-number="9.1.4">
<h3 data-number="9.1.4" class="anchored" data-anchor-id="monotonicity-of-optimal-policy-in-queue-length"><span class="header-section-number">9.1.4</span> Monotonicity of optimal policy in queue length</h3>
<div id="thm-power-delay-monotone-queue" class="theorem">
<p><span class="theorem-title"><strong>Theorem 9.1</strong></span> For all time <span class="math inline">\(t\)</span> and channel state <span class="math inline">\(s\)</span>, there is an optimal strategy <span class="math inline">\(π^*_t(x,s)\)</span> which is increasing in the queue length <span class="math inline">\(x\)</span>.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In <a href="#lem-power-delay-convex" class="quarto-xref">Lemma&nbsp;<span>9.2</span></a>, we have shown that <span class="math inline">\(H_t(y,s)\)</span> is convex in <span class="math inline">\(y\)</span>. Therefore, <span class="math inline">\(H_t(x-a, s)\)</span> is submodular in <span class="math inline">\((x,a)\)</span>.</p>
<p></p>
<p>Thus, for a fixed <span class="math inline">\(s\)</span>, <span class="math inline">\(p(a)q(s) + H_t(x-a, s)\)</span> is submodular in <span class="math inline">\((x,a)\)</span>. Therefore, the optimal policy is increasing in <span class="math inline">\(x\)</span>.</p>
</div>
</div>
</div>
<div class="no-row-height column-margin column-container"><span class="margin-aside callout-5-contents callout-collapse collapse callout-margin-content">One can show submodularity by finite difference, but for simplicity, we assume that <span class="math inline">\(H_t(y,s)\)</span> is twice differentiable. Then, <span class="math inline">\(\partial^2 H_t(x - a, s)/ \partial
x \partial a \le 0\)</span> (by convexity of <span class="math inline">\(H_t\)</span>).</span></div></section>
<section id="lack-of-monotonicity-of-optimal-policy-in-channel-state" class="level3" data-number="9.1.5">
<h3 data-number="9.1.5" class="anchored" data-anchor-id="lack-of-monotonicity-of-optimal-policy-in-channel-state"><span class="header-section-number">9.1.5</span> Lack of monotonicity of optimal policy in channel state</h3>
<p>It is natural to expect that for a fixed <span class="math inline">\(x\)</span> the optimal policy is decreasing in <span class="math inline">\(s\)</span>. However, it is not possible to obtain the monotonicity of optimal policy in channel state in general. To see why this is difficult, let us impose a mild assumption on the arrival distribution.</p>
<div id="asm-power-delay-density">
<!--FIXME: Wait for support in quarto -->
<section id="asm-power-delay-density" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="asm-power-delay-density"><span class="citation" data-cites="asm-power-delay-density">(<a href="../references.html#ref-asm-power-delay-density" role="doc-biblioref"><strong>asm-power-delay-density?</strong></a>)</span></h4>
<p>The packet arrival distribution is weakly decreasing, i.e., for any <span class="math inline">\(v,w
\in \integers_{\ge 0}\)</span> such that <span class="math inline">\(v \le w\)</span>, we have that <span class="math inline">\(P_W(v) \ge
P_W(w)\)</span>.</p>
</section>
</div>
<p>We first start with a slight generalization of stochastic monotonicity result.</p>
<div id="lem-littlewood" class="theorem lemma">
<p><span class="theorem-title"><strong>Lemma 9.3</strong></span> Let <span class="math inline">\(\{p_i\}_{i \ge 0}\)</span> and <span class="math inline">\(\{q_i\}_{i \ge 0}\)</span> be real-valued non-negative sequences satisfying <span class="math display">\[ \sum_{i \le j} p_i \le \sum_{i \le j} q_i, \quad \forall j.\]</span> (Note that the sequences do not need to add to 1). Then, for any increasing sequence <span class="math inline">\(\{v_i\}_{i \ge 0}\)</span>, we have <span class="math display">\[ \sum_{i = 0}^\infty p_i v_i \ge \sum_{i=0}^\infty q_i v_i. \]</span></p>
</div>
<p>The proof is similar to the proof for stochastic monotonicity.</p>
<div id="lem-power-delay-submodular" class="theorem lemma">
<p><span class="theorem-title"><strong>Lemma 9.4</strong></span> Under <span class="citation" data-cites="asm-power-delay-density">(<a href="../references.html#ref-asm-power-delay-density" role="doc-biblioref"><strong>asm-power-delay-density?</strong></a>)</span>, for all <span class="math inline">\(t\)</span>, <span class="math inline">\(H_t(y,s)\)</span> is supermodular in <span class="math inline">\((y,s)\)</span>.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proof
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The idea of the proof is similar to <a href="monotone-mdps.html#lem-sufficient-C3" class="quarto-xref">Lemma&nbsp;<span>8.1</span></a>.</p>
<p>Fix <span class="math inline">\(y^+, y^- \in \integers_{\ge 0}\)</span> and <span class="math inline">\(s^+, s^- \in \ALPHABET S\)</span> such that <span class="math inline">\(y^+ &gt; y^-\)</span> and <span class="math inline">\(s^+ &gt; s^-\)</span>. Now, for any <span class="math inline">\(y' \in \integers_{\ge 0}\)</span> and <span class="math inline">\(s'
\in \ALPHABET S\)</span> define <span class="math display">\[\begin{align*}
  π(y',s') = P_W(y' - y^+)P_S(s'|s^+) +
             P_W(y' - y^-)P_S(s'|s^-),
             \\
  μ(y',s') = P_W(y' - y^-)P_S(s'|s^+) +
             P_W(y' - y^+)P_S(s'|s^-).
\end{align*}\]</span></p>
<p>Since <span class="math inline">\(P_S\)</span> is stochastically monotone, we have that for any <span class="math inline">\(σ \in \ALPHABET
S\)</span>, <span class="math display">\[ \sum_{s'=1}^{σ} P_S(s'|s^+) \le \sum_{s'=1}^{σ} P_S(s'|s^-). \]</span> Moreover, due to <span class="citation" data-cites="asm-power-delay-density">(<a href="../references.html#ref-asm-power-delay-density" role="doc-biblioref"><strong>asm-power-delay-density?</strong></a>)</span>, we have that <span class="math inline">\(P_W(y' - y^-)
\le P_W(y' - y^+)\)</span>. Thus, <span class="math display">\[ [P_W(y' - y^+) - P_W(y' - y^-)] \sum_{s'=1}^{σ} P_S(s'|s^+)
\le [P_W(y' - y^+) - P_W(y' - y^-)]\sum_{s'=1}^{σ} P_S(s'|s^-). \]</span> Rearranging terms, we get <span class="math display">\[ \sum_{s'=1}^σ π(y',s') \le \sum_{s'=1}^σ μ(y',s'). \]</span> Thus, for any <span class="math inline">\(y'\)</span>, the sequence <span class="math inline">\(π(y',s')\)</span> and <span class="math inline">\(ν(y',s')\)</span> satisfy the condition of <a href="#lem-littlewood" class="quarto-xref">Lemma&nbsp;<span>9.3</span></a>.</p>
<p>Now, in <a href="#lem-power-delay-increasing" class="quarto-xref">Lemma&nbsp;<span>9.1</span></a>, we have established that for any <span class="math inline">\(y'\)</span>, <span class="math inline">\(V_{t+1}(y',s')\)</span> is increasing in <span class="math inline">\(s'\)</span>. Thus, from <a href="#lem-littlewood" class="quarto-xref">Lemma&nbsp;<span>9.3</span></a>, we have <span class="math display">\[  \sum_{s' \in \ALPHABET S} π(y', s') V_{t+1}(y', s')
\ge \sum_{s' \in \ALPHABET S} μ(y', s') V_{t+1}(y', s'), \]</span> Summing up over <span class="math inline">\(y'\)</span>, we get <span class="math display">\[  \sum_{y' \in \integers_{\ge 0}} \sum_{s' \in \ALPHABET S} π(y', s') V_{t+1}(y', s')
\ge \sum_{y' \in \integers_{\ge 0}} \sum_{s' \in \ALPHABET S} μ(y', s') V_{t+1}(y', s'), \]</span> Or equivalently, <span class="math display">\[\begin{align*}
\hskip 2em &amp; \hskip -2em
\EXP[ V_{t+1}(y^+ + W, S_{t+1}) | S_t = s^+) ]
+
\EXP[ V_{t+1}(y^- + W, S_{t+1}) | S_t = s^-) ]
\\
&amp; \ge
\EXP[ V_{t+1}(y^- + W, S_{t+1}) | S_t = s^+) ]
+
\EXP[ V_{t+1}(y^+ + W, S_{t+1}) | S_t = s^-) ] .
\end{align*}\]</span> Thus, <span class="math inline">\(H_t(y,s)\)</span> is supermodular in <span class="math inline">\((y,s)\)</span>.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Even under <span class="citation" data-cites="asm-power-delay-density">(<a href="../references.html#ref-asm-power-delay-density" role="doc-biblioref"><strong>asm-power-delay-density?</strong></a>)</span>, we cannot establish the monotonicity of <span class="math inline">\(π^*_t(x,s)\)</span> is <span class="math inline">\(s\)</span>.
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that we have established that <span class="math inline">\(H_t(y,s)\)</span> is supermodular in <span class="math inline">\((y,s)\)</span>. Thus, for any fixed <span class="math inline">\(x\)</span>, <span class="math inline">\(H_t(x-a,s)\)</span> is submodular in <span class="math inline">\((a,s)\)</span>. Furthermore the function <span class="math inline">\(p(a)q(s)\)</span> is increasing in both variables and therefore supermodular in <span class="math inline">\((a,s)\)</span>. Therefore, we cannot say anything specific about <span class="math inline">\(p(a)q(s) + H_t(x-a, s)\)</span> which is a sum of submodular and supermodular functions.</p>
<p>We need to impose a much stronger assumption to establish monotonicity in channel state. See <a href="#exr-power-delay-monotone" class="quarto-xref">Exercise&nbsp;<span>9.1</span></a>.</p>
</div>
</div>
</section>
</section>
<section id="exercises" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="exercises">Exercises</h2>
<div id="exr-power-delay-monotone" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 9.1</strong></span> Suppose that the channel state <span class="math inline">\(\{S_t\}_{t \ge 1}\)</span> is an i.i.d. process. Then prove that for all time&nbsp;<span class="math inline">\(t\)</span> and queue state&nbsp;<span class="math inline">\(x\)</span>, there is an optimal strategy <span class="math inline">\(π^*_t(x,s)\)</span> which is decreasing in channel state <span class="math inline">\(s\)</span>.</p>
</div>
</section>
<section id="notes" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="notes">Notes</h2>
<p>The mathematical model of power-delay trade-off is taken from <span class="citation" data-cites="Berry2000">Berry (<a href="../references.html#ref-Berry2000" role="doc-biblioref">2000</a>)</span>, where the monotonicty results were proved using first principles. More detailed characterization of the optimal transmission strategy when the average power or the average delay goes to zero are provided in <span class="citation" data-cites="Berry2002">Berry and Gallager (<a href="../references.html#ref-Berry2002" role="doc-biblioref">2002</a>)</span> and <span class="citation" data-cites="Berry2013">Berry (<a href="../references.html#ref-Berry2013" role="doc-biblioref">2013</a>)</span>. A related model is presented in <span class="citation" data-cites="Ding2016">Ding et al. (<a href="../references.html#ref-Ding2016" role="doc-biblioref">2016</a>)</span>.</p>
<p>For a broader overview of power-delay trade offs in wireless communication, see <span class="citation" data-cites="Berry2012">Berry et al. (<a href="../references.html#ref-Berry2012" role="doc-biblioref">2012</a>)</span> and <span class="citation" data-cites="Yeh2012">Yeh (<a href="../references.html#ref-Yeh2012" role="doc-biblioref">2012</a>)</span>.</p>
<p>The remark after <a href="#lem-power-delay-submodular" class="quarto-xref">Lemma&nbsp;<span>9.4</span></a> shows the difficulty in establishing monotonicity of optimal policies for a multi-dimensional state space. In fact, sometimes even when monotonicity appears to be intuitively obvious, it may not hold. See <span class="citation" data-cites="Sayedana2020a">Sayedana and Mahajan (<a href="../references.html#ref-Sayedana2020a" role="doc-biblioref">2020</a>)</span> for an example. For general discussions on monotonicity for multi-dimensional state spaces, see <span class="citation" data-cites="Topkis1998">Topkis (<a href="../references.html#ref-Topkis1998" role="doc-biblioref">1998</a>)</span> and <span class="citation" data-cites="Koole2006">Koole (<a href="../references.html#ref-Koole2006" role="doc-biblioref">2006</a>)</span>. As an example of using such general conditions to establish monotonicity, see <span class="citation" data-cites="Sayedana2020">Sayedana et al. (<a href="../references.html#ref-Sayedana2020" role="doc-biblioref">2020</a>)</span>.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Berry2000" class="csl-entry" role="listitem">
<span class="smallcaps">Berry, R.A.</span> 2000. Power and delay trade-offs in fading channels. PhD thesis, Massachusetts Institute of Technology. Available at: <a href="https://dspace.mit.edu/handle/1721.1/9290">https://dspace.mit.edu/handle/1721.1/9290</a>.
</div>
<div id="ref-Berry2013" class="csl-entry" role="listitem">
<span class="smallcaps">Berry, R.A.</span> 2013. Optimal power-delay tradeoffs in fading channels—small-delay asymptotics. <em>IEEE Transactions on Information Theory</em> <em>59</em>, 6, 3939–3952. DOI: <a href="https://doi.org/10.1109/TIT.2013.2253194">10.1109/TIT.2013.2253194</a>.
</div>
<div id="ref-Berry2002" class="csl-entry" role="listitem">
<span class="smallcaps">Berry, R.A. and Gallager, R.G.</span> 2002. Communication over fading channels with delay constraints. <em><span>IEEE</span> Transactions on Information Theory</em> <em>48</em>, 5, 1135–1149. DOI: <a href="https://doi.org/10.1109/18.995554">10.1109/18.995554</a>.
</div>
<div id="ref-Berry2012" class="csl-entry" role="listitem">
<span class="smallcaps">Berry, R., Modiano, E., and Zafer, M.</span> 2012. Energy-efficient scheduling under delay constraints for wireless networks. <em>Synthesis Lectures on Communication Networks</em> <em>5</em>, 2, 1–96. DOI: <a href="https://doi.org/10.2200/S00443ED1V01Y201208CNT011">10.2200/S00443ED1V01Y201208CNT011</a>.
</div>
<div id="ref-Chen2017" class="csl-entry" role="listitem">
<span class="smallcaps">Chen, X.</span> 2017. <span><span class="math inline">\(L^{\#}\)</span></span>-convexity and its applications in operations. <em>Frontiers of Engineering Management</em> <em>4</em>, 3, 283. DOI: <a href="https://doi.org/10.15302/j-fem-2017057">10.15302/j-fem-2017057</a>.
</div>
<div id="ref-Ding2016" class="csl-entry" role="listitem">
<span class="smallcaps">Ding, N., Sadeghi, P., and Kennedy, R.A.</span> 2016. On monotonicity of the optimal transmission policy in cross-layer adaptive <span class="math inline">\(m\)</span> -QAM modulation. <em>IEEE Transactions on Communications</em> <em>64</em>, 9, 3771–3785. DOI: <a href="https://doi.org/10.1109/TCOMM.2016.2590427">10.1109/TCOMM.2016.2590427</a>.
</div>
<div id="ref-Koole2006" class="csl-entry" role="listitem">
<span class="smallcaps">Koole, G.</span> 2006. Monotonicity in markov reward and decision chains: Theory and applications. <em>Foundations and Trends<span></span> in Stochastic Systems</em> <em>1</em>, 1, 1–76. DOI: <a href="https://doi.org/10.1561/0900000002">10.1561/0900000002</a>.
</div>
<div id="ref-Murota1998" class="csl-entry" role="listitem">
<span class="smallcaps">Murota, K.</span> 1998. Discrete convex analysis. <em>Mathematical Programming</em> <em>83</em>, 1–3, 313–371. DOI: <a href="https://doi.org/10.1007/bf02680565">10.1007/bf02680565</a>.
</div>
<div id="ref-Sayedana2020a" class="csl-entry" role="listitem">
<span class="smallcaps">Sayedana, B. and Mahajan, A.</span> 2020. Counterexamples on the monotonicity of delay optimal strategies for energy harvesting transmitters. <em><span>IEEE</span> Wireless Communications Letters</em>, 1–1. DOI: <a href="https://doi.org/10.1109/lwc.2020.2981066">10.1109/lwc.2020.2981066</a>.
</div>
<div id="ref-Sayedana2020" class="csl-entry" role="listitem">
<span class="smallcaps">Sayedana, B., Mahajan, A., and Yeh, E.</span> 2020. Cross-layer communication over fading channels with adaptive decision feedback. <em>International symposium on modeling and optimization in mobile, ad hoc, and wireless networks (WiOPT)</em>, 1–8.
</div>
<div id="ref-Topkis1998" class="csl-entry" role="listitem">
<span class="smallcaps">Topkis, D.M.</span> 1998. <em>Supermodularity and complementarity</em>. Princeton University Press.
</div>
<div id="ref-Yeh2012" class="csl-entry" role="listitem">
<span class="smallcaps">Yeh, E.M.</span> 2012. Fundamental performance limits in cross-layer wireless optimization: Throughput, delay, and energy. <em>Foundations and Trends in Communications and Information Theory</em> <em>9</em>, 1, 1–112. DOI: <a href="https://doi.org/10.1561/0100000014">10.1561/0100000014</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../mdps/monotone-mdps.html" class="pagination-link" aria-label="Monotonicity of value function and optimal policies">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Monotonicity of value function and optimal policies</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../mdps/reward-shaping.html" class="pagination-link" aria-label="Reward Shaping">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Reward Shaping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/adityam/stochastic-control/edit/quarto/mdps/monotone-examples.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer><script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>